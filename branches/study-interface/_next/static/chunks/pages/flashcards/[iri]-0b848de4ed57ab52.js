(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[946],{4572:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>k});var i=s(6029),r=s(281),t=s(3417),a=s(6207),c=s(1979),l=s(370),d=s(8774),o=s(4e3),h=s(5729),m=s(9287),x=s(2271),j=s(6750),p=s(1212),v=s(5809),u=s(8230),f=s.n(u);function k(){let e=(0,o.useRouter)(),{getService:n,getSpacedRepetitionAlgorithm:s}=(0,h.useContext)(a.h),u=n(),k=s(),{iri:w}=(0,o.useParams)(),{flashcardMap:g,isLoading:I,mutate:N}=(0,m.A)(w?[null==w?void 0:w.toString()]:[]),C=w?g[w.toString()]:void 0;if(I)return(0,i.jsx)(t.default,{children:(0,i.jsx)(c.Zp,{className:"p-2",children:(0,i.jsx)("div",{children:"Loading flashcards..."})})});if(!C)return(0,i.jsx)(t.default,{children:(0,i.jsx)("div",{children:"No flashcard found"})});let D=async(e,n)=>{console.log("Reviewed flashcard",(0,r.L)(e.iri),", answer quality",n);let s=k.compute([{...e,q:n}]);await Promise.all(s.map(e=>u.updateFlashcard(e))),await N()},R=(0,x.o)(new Date),_=(0,j.f)(R,C.interval),y=(0,p.a)((0,v.F)({start:R,end:_}));return(0,i.jsx)(t.default,{children:(0,i.jsx)(c.Zp,{className:"p-2",children:(0,i.jsxs)("div",{className:"space-x-2 space-y-1",children:[(0,i.jsx)("div",{className:"mb-2 flex gap-1",children:(0,i.jsx)(f(),{href:"/flashcards/".concat(encodeURIComponent(C.iri)),className:"hover:underline",children:(0,i.jsxs)("div",{className:"flex gap-1",title:C.iri,children:[(0,i.jsx)(l.A,{}),(0,i.jsx)("strong",{children:(0,i.jsx)("span",{children:(0,r.L)(C.iri)})})," ","(Flashcard)"]})})}),(0,i.jsx)("div",{children:(0,i.jsxs)("span",{title:C.iri,children:[(0,i.jsx)("strong",{children:"• Iri:"})," ",(0,r.L)(C.iri)]})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"• Version:"})," ",C.version]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"• Front:"})," ",C.front]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"• Back:"})," ",C.back]}),(0,i.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,i.jsx)("strong",{children:"• Is in deck:"})," ",(0,i.jsx)(f(),{href:"/decks/".concat(encodeURIComponent(C.isInDeck)),className:"hover:underline",children:(0,i.jsxs)("div",{className:"flex gap-1",title:C.isInDeck,children:[(0,i.jsx)(d.A,{}),(0,i.jsx)("strong",{children:(0,i.jsx)("span",{children:(0,r.L)(C.isInDeck)})})," ","(Deck)"]})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"• Interval:"})," ",C.interval]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"• Ease factor:"})," ",C.easeFactor]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"• Repetition:"})," ",C.repetition]}),C.lastReviewed&&(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"• Last reviewed:"})," ",C.lastReviewed.toUTCString()]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"• Next review:"})," In ",y," (",_.toUTCString(),")"]}),(0,i.jsx)(c.$n,{variant:"destructive",onClick:()=>{u.removeFlashcard(C).then(()=>e.push("/decks/".concat(encodeURIComponent(C.isInDeck)))).catch(e=>console.error("Failed with error:",e))},children:"Delete flashcard"}),(0,i.jsx)(c.$n,{onClick:()=>{e.push("/flashcards/".concat(encodeURIComponent(C.iri),"/edit"))},children:"Edit"}),(0,i.jsx)("div",{children:(0,i.jsx)("strong",{children:"Review:"})}),(0,i.jsx)(c.$n,{onClick:()=>D(C,0),children:"Again"}),(0,i.jsx)(c.$n,{onClick:()=>D(C,2),children:"Hard"}),(0,i.jsx)(c.$n,{onClick:()=>D(C,4),children:"Good"}),(0,i.jsx)(c.$n,{onClick:()=>D(C,5),children:"Easy"})]})},C.iri)})}},4931:(e,n,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/flashcards/[iri]",function(){return s(4572)}])},9287:(e,n,s)=>{"use strict";s.d(n,{A:()=>c});var i=s(2041),r=s(4426),t=s(9651),a=s(281);function c(e){let{data:n,mutate:s,isLoading:c}=(0,t.A)(e),l=(null!=n?n:[]).map(e=>(0,r.eC)(e)).flat().filter(n=>e.includes(n.url)).map(e=>(0,a.Ez)({iri:e.url,type:(0,i.ID)(e,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),name:(0,i.NB)(e,"http://antwika.com/ns/solid-memo#name"),version:(0,i.NB)(e,"http://antwika.com/ns/solid-memo#version"),isInSolidMemoDataInstance:(0,i.ID)(e,"http://antwika.com/ns/solid-memo#isInSolidMemoDataInstance"),isInDeck:(0,i.ID)(e,"http://antwika.com/ns/solid-memo#isInDeck"),front:(0,i.NB)(e,"http://antwika.com/ns/solid-memo#front"),back:(0,i.NB)(e,"http://antwika.com/ns/solid-memo#back"),interval:(0,i.XU)(e,"http://antwika.com/ns/solid-memo#interval"),easeFactor:(0,i.S5)(e,"http://antwika.com/ns/solid-memo#easeFactor"),repetition:(0,i.XU)(e,"http://antwika.com/ns/solid-memo#repetition"),lastReviewed:(0,i.oq)(e,"http://antwika.com/ns/solid-memo#lastReviewed")})),d=l.reduce((e,n)=>(e[n.iri]=n,e),{});return{flashcardDatasets:n,flashcards:l,flashcardMap:d,mutate:s,isLoading:c}}},9651:(e,n,s)=>{"use strict";s.d(n,{A:()=>t});var i=s(8429),r=s(6768);function t(e){let{data:n,mutate:s,isLoading:t}=(0,r.Ay)("string"==typeof e?[e]:e,i.P);return{data:n,mutate:s,isLoading:t}}}},e=>{var n=n=>e(e.s=n);e.O(0,[768,298,20,636,593,792],()=>n(4931)),_N_E=e.O()}]);