(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[946],{4572:(e,i,s)=>{"use strict";s.r(i),s.d(i,{default:()=>u});var n=s(6029),t=s(281),r=s(3417),a=s(6207),c=s(1979),l=s(370),d=s(8774),o=s(4e3),h=s(5729),m=s(9287),x=s(2271),j=s(6750),p=s(1212),v=s(5809);function u(){let e=(0,o.useRouter)(),{getService:i,getSpacedRepetitionAlgorithm:s}=(0,h.useContext)(a.h),u=i(),k=s(),{iri:w}=(0,o.useParams)(),{flashcardMap:f,isLoading:g,mutate:I}=(0,m.A)(w?[null==w?void 0:w.toString()]:[]),N=w?f[w.toString()]:void 0;if(g)return(0,n.jsx)(r.default,{children:(0,n.jsx)(c.Zp,{className:"p-2",children:(0,n.jsx)("div",{children:"Loading flashcards..."})})});if(!N)return(0,n.jsx)(r.default,{children:(0,n.jsx)("div",{children:"No flashcard found"})});let C=async(e,i)=>{console.log("Reviewed flashcard",(0,t.L)(e.iri),", answer quality",i);let s=k.compute([{...e,q:i}]);await Promise.all(s.map(e=>u.updateFlashcard(e))),await I()},D=(0,x.o)(new Date),_=(0,j.f)(D,N.interval),R=(0,p.a)((0,v.F)({start:D,end:_}));return(0,n.jsx)(r.default,{children:(0,n.jsx)(c.Zp,{className:"p-2",children:(0,n.jsxs)("div",{className:"space-x-2 space-y-1",children:[(0,n.jsxs)("div",{className:"mb-2 flex gap-1",children:[(0,n.jsx)("div",{className:"width: 32px",title:"Flashcard",children:(0,n.jsx)(l.A,{})}),(0,n.jsx)("strong",{children:(0,t.L)(N.iri)})," (Flashcard)"]}),(0,n.jsx)("div",{children:(0,n.jsxs)("span",{title:N.iri,children:[(0,n.jsx)("strong",{children:"• Iri:"})," ",(0,t.L)(N.iri)]})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"• Version:"})," ",N.version]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"• Front:"})," ",N.front]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"• Back:"})," ",N.back]}),(0,n.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,n.jsx)("strong",{children:"• Is in deck:"})," ",(0,n.jsx)(d.A,{}),(0,n.jsx)("strong",{children:(0,n.jsx)("span",{title:N.isInDeck,children:(0,t.L)(N.isInDeck)})})," ","(Deck)",(0,n.jsx)(c.$n,{size:"sm",onClick:()=>{e.push("/decks/".concat(encodeURIComponent(N.isInDeck)))},children:"View"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"• Interval:"})," ",N.interval]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"• Ease factor:"})," ",N.easeFactor]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"• Repetition:"})," ",N.repetition]}),N.lastReviewed&&(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"• Last reviewed:"})," ",N.lastReviewed.toUTCString()]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"• Next review:"})," In ",R]}),(0,n.jsx)(c.$n,{variant:"destructive",onClick:()=>{u.removeFlashcard(N).then(()=>e.push("/decks/".concat(encodeURIComponent(N.isInDeck)))).catch(e=>console.error("Failed with error:",e))},children:"Delete flashcard"}),(0,n.jsx)(c.$n,{onClick:()=>{e.push("/flashcards/".concat(encodeURIComponent(N.iri),"/edit"))},children:"Edit"}),(0,n.jsx)("div",{children:(0,n.jsx)("strong",{children:"Review:"})}),(0,n.jsx)(c.$n,{onClick:()=>C(N,0),children:"Again"}),(0,n.jsx)(c.$n,{onClick:()=>C(N,2),children:"Hard"}),(0,n.jsx)(c.$n,{onClick:()=>C(N,4),children:"Good"}),(0,n.jsx)(c.$n,{onClick:()=>C(N,5),children:"Easy"})]})},N.iri)})}},4931:(e,i,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/flashcards/[iri]",function(){return s(4572)}])},9287:(e,i,s)=>{"use strict";s.d(i,{A:()=>c});var n=s(2041),t=s(4426),r=s(9651),a=s(281);function c(e){let{data:i,mutate:s,isLoading:c}=(0,r.A)(e),l=(null!=i?i:[]).map(e=>(0,t.eC)(e)).flat().filter(i=>e.includes(i.url)).map(e=>(0,a.Ez)({iri:e.url,type:(0,n.ID)(e,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),name:(0,n.NB)(e,"http://antwika.com/ns/solid-memo#name"),version:(0,n.NB)(e,"http://antwika.com/ns/solid-memo#version"),isInSolidMemoDataInstance:(0,n.ID)(e,"http://antwika.com/ns/solid-memo#isInSolidMemoDataInstance"),isInDeck:(0,n.ID)(e,"http://antwika.com/ns/solid-memo#isInDeck"),front:(0,n.NB)(e,"http://antwika.com/ns/solid-memo#front"),back:(0,n.NB)(e,"http://antwika.com/ns/solid-memo#back"),interval:(0,n.XU)(e,"http://antwika.com/ns/solid-memo#interval"),easeFactor:(0,n.S5)(e,"http://antwika.com/ns/solid-memo#easeFactor"),repetition:(0,n.XU)(e,"http://antwika.com/ns/solid-memo#repetition"),lastReviewed:(0,n.oq)(e,"http://antwika.com/ns/solid-memo#lastReviewed")})),d=l.reduce((e,i)=>(e[i.iri]=i,e),{});return{flashcardDatasets:i,flashcards:l,flashcardMap:d,mutate:s,isLoading:c}}},9651:(e,i,s)=>{"use strict";s.d(i,{A:()=>r});var n=s(8429),t=s(6768);function r(e){let{data:i,mutate:s,isLoading:r}=(0,t.Ay)("string"==typeof e?[e]:e,n.P);return{data:i,mutate:s,isLoading:r}}}},e=>{var i=i=>e(e.s=i);e.O(0,[4,20,636,593,792],()=>i(4931)),_N_E=e.O()}]);