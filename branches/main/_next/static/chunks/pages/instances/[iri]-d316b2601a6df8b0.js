(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[389],{652:(e,n,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/instances/[iri]",function(){return s(6022)}])},5986:(e,n,s)=>{"use strict";s.d(n,{A:()=>a});var t=s(5040),i=s(3681);function a(e){let{data:n,mutate:s,isLoading:a}=(0,i.Ay)("string"==typeof e?[e]:e,t.P);return{data:n,mutate:s,isLoading:a}}},6022:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>u});var t=s(6029),i=s(872),a=s(1922),r=s(8887),c=s(2229),l=s(5729),o=s(8637),d=s(2203),h=s.n(d),m=s(8535);function u(){var e;let n=(0,c.useRouter)(),{getService:s}=(0,l.useContext)(a.h),d=s(),{iri:u}=(0,c.useParams)(),{instanceMap:p,mutate:x,isLoading:f}=(0,o.A)(u?[null==u?void 0:u.toString()]:[]),w=u?p[u.toString()]:void 0,{deckMap:v}=(0,m.A)(null!=(e=null==w?void 0:w.hasDeck)?e:[]);return f?(0,t.jsx)(i.default,{children:(0,t.jsx)(r.Zp,{className:"p-2",children:(0,t.jsx)("div",{children:"Loading instance..."})})}):w?(0,t.jsx)(i.default,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("h2",{className:"flex gap-2 items-center",children:["Study Decks",(0,t.jsx)(r.$n,{size:"sm",variant:"default",onClick:()=>{d.newDeck({version:"1",name:"New deck name",isInSolidMemoDataInstance:w.iri,hasCard:[]}).then(()=>x()).catch(e=>console.error("Failed with error:",e))},children:"Create"})]}),(0,t.jsx)("div",{className:"gap-2 grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 xs:grid-cols-1",children:Object.keys(v).map(e=>{let s=v[e];if(s)return(0,t.jsx)(h(),{href:"/decks/".concat(encodeURIComponent(s.iri),"/study"),children:(0,t.jsxs)(r.Zp,{title:e,className:"h-full hover:bg-primary/5",children:[(0,t.jsxs)("h3",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:s.name}),(0,t.jsx)(r.$n,{size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),n.push("/decks/".concat(encodeURIComponent(s.iri),"/edit"))},children:"Edit"})]}),(0,t.jsxs)("span",{className:"grow",children:[s.hasCard.length," cards"]})]})},s.iri)})}),(0,t.jsx)("h3",{children:"Other instance actions:"}),(0,t.jsxs)("div",{className:"flex sm:flex-row flex-col gap-1",children:[(0,t.jsx)(r.$n,{variant:"secondary",onClick:()=>{n.push("/instances/".concat(encodeURIComponent(w.iri),"/edit"))},children:"Edit"}),(0,t.jsx)(r.$n,{variant:"destructive",onClick:()=>{d.removeInstance(w).then(()=>n.push("/instances")).catch(e=>console.error("Failed with error:",e))},children:"Delete"})]})]})}):(0,t.jsx)(i.default,{children:(0,t.jsx)("div",{children:"No instance found"})})}},8535:(e,n,s)=>{"use strict";s.d(n,{A:()=>c});var t=s(2041),i=s(4426),a=s(5986),r=s(7127);function c(e){let{data:n,mutate:s,isLoading:c}=(0,a.A)(e),l=(null!=n?n:[]).map(e=>(0,i.eC)(e)).flat().filter(n=>e.includes(n.url)).map(e=>(0,r.nt)({iri:e.url,type:(0,t.ID)(e,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),name:(0,t.NB)(e,"http://antwika.com/ns/solid-memo#name"),version:(0,t.NB)(e,"http://antwika.com/ns/solid-memo#version"),isInSolidMemoDataInstance:(0,t.ID)(e,"http://antwika.com/ns/solid-memo#isInSolidMemoDataInstance"),hasCard:(0,t.tX)(e,"http://antwika.com/ns/solid-memo#hasCard")})),o=l.reduce((e,n)=>(e[n.iri]=n,e),{});return{deckDatasets:n,decks:l,deckMap:o,mutate:s,isLoading:c}}},8637:(e,n,s)=>{"use strict";s.d(n,{A:()=>c});var t=s(2041),i=s(4426),a=s(5986),r=s(7127);function c(e){let{data:n,mutate:s,isLoading:c}=(0,a.A)(e),l=(null!=n?n:[]).map(e=>(0,i.eC)(e)).flat().filter(n=>e.includes(n.url)).map(e=>(0,r.LW)({iri:e.url,type:(0,t.ID)(e,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),name:(0,t.NB)(e,"http://antwika.com/ns/solid-memo#name"),version:(0,t.NB)(e,"http://antwika.com/ns/solid-memo#version"),isInPrivateTypeIndex:(0,t.ID)(e,"http://antwika.com/ns/solid-memo#isInPrivateTypeIndex"),hasDeck:(0,t.tX)(e,"http://antwika.com/ns/solid-memo#hasDeck")})),o=l.reduce((e,n)=>(e[n.iri]=n,e),{});return{instanceDatasets:n,instances:l,instanceMap:o,mutate:s,isLoading:c}}}},e=>{e.O(0,[681,636,593,792],()=>e(e.s=652)),_N_E=e.O()}]);