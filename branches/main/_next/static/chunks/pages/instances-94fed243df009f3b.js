(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[760],{1691:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(7876),a=r(6836),n=r(3417),l=r(6207),o=r(1979),i=r(7057),c=r(4e3),d=r(4232),h=r(6768),u=r(4051),m=r(1562),p=r(2096),w=r(8429),f=r(9651);function v(){let e=(0,c.useRouter)(),{getService:t}=(0,d.useContext)(l.h),r=t(),{instanceUrls:v,mutate:x}=function(){let e=(0,p._)(),{data:t}=(0,f.A)(e.info.webId),[r,s]=(0,d.useState)([]),[a,n]=(0,d.useState)([]),[l,o]=(0,d.useState)([]),{data:i}=(0,f.A)(l),[c,v]=(0,d.useState)([]),{data:x,mutate:y}=(0,h.Ay)(r,w.P),{data:_,mutate:k}=(0,h.Ay)(a,w.P);return(0,d.useEffect)(()=>{if(!t)return void s([]);Promise.all(t.map(e=>u.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>m.tX(e,"http://www.w3.org/ns/solid/terms#privateTypeIndex")))).then(e=>e.flat()).then(e=>s(e)).catch(e=>console.error("Failed to fetch private type indices, error:",e)),Promise.all(t.map(e=>u.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>m.tX(e,"http://www.w3.org/2000/01/rdf-schema#seeAlso")))).then(e=>e.flat()).then(e=>o(e)).catch(e=>console.error("Failed to fetch see also references, error:",e))},[t]),(0,d.useEffect)(()=>{if(!i)return void n([]);Promise.all(i.map(e=>u.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>m.tX(e,"http://www.w3.org/ns/solid/terms#privateTypeIndex")))).then(e=>e.flat()).then(e=>n(e)).catch(e=>console.error("Failed to fetch see also private type indices, error:",e))},[i]),(0,d.useEffect)(()=>{[...null!=x?x:[],...null!=_?_:[]].map(e=>{v(u.eC(e).reduce((e,t)=>{var r,s,a,n;let{predicates:l}=t;return(null==(s=l["http://www.w3.org/ns/solid/terms#forClass"])||null==(r=s.namedNodes)?void 0:r.includes("http://antwika.com/ns/solid-memo#SolidMemoData"))?[...e,...null!=(n=null==(a=l["http://www.w3.org/ns/solid/terms#instance"])?void 0:a.namedNodes)?n:[]]:e},[]))})},[x,_]),{webIdProfileDatasets:t,privateTypeIndexDatasets:x,instanceUrls:c,mutate:()=>{y(x).catch(e=>console.error("Failed to mutate, error:",e)),k(_).catch(e=>console.error("Failed to mutate, error:",e))}}}();return(0,s.jsxs)(n.default,{children:[(0,s.jsx)(o.$n,{onClick:()=>{r.newInstance().then(()=>x()).catch(e=>console.error("Failed with error:",e))},children:"Create new instance"}),v.map(t=>(0,s.jsx)("div",{className:"items-center gap-2",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{title:"Instance",children:(0,s.jsx)(i.A,{})}),(0,s.jsx)("div",{className:"flex grow-1 break-all gap-1",children:(0,s.jsxs)("span",{title:t,children:[(0,s.jsx)("strong",{children:(0,a.L)(t)})," (Instance)"]})}),(0,s.jsx)("div",{children:(0,s.jsx)(o.$n,{size:"sm",onClick:()=>{e.push("/instances/".concat(encodeURIComponent(t)))},children:"View"})})]})},t))]})}},6449:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/instances",function(){return r(1691)}])},7057:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(1713).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},9651:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(8429),a=r(6768);function n(e){let{data:t,mutate:r}=(0,a.Ay)("string"==typeof e?[e]:e,s.P);return{data:t,mutate:r}}}},e=>{var t=t=>e(e.s=t);e.O(0,[264,636,593,792],()=>t(6449)),_N_E=e.O()}]);