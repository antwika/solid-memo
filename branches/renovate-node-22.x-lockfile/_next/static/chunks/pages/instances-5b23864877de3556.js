(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[760],{1691:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var s=n(6029),a=n(281),r=n(3417),l=n(6207),o=n(1979),i=n(8337),c=n(5729),d=n(6768),h=n(4426),u=n(2041),m=n(8117),p=n(8429),f=n(9651),w=n(8230),v=n.n(w);function x(){let{getService:e}=(0,c.useContext)(l.h),t=e(),{instanceUrls:n,mutate:w,isLoading:x}=function(){let e=(0,m._)(),{data:t,isLoading:n}=(0,f.A)(e.info.webId),[s,a]=(0,c.useState)([]),[r,l]=(0,c.useState)([]),[o,i]=(0,c.useState)([]),{data:w}=(0,f.A)(o),[v,x]=(0,c.useState)([]),{data:g,mutate:y,isLoading:_}=(0,d.Ay)(s,p.P),{data:A,mutate:N,isLoading:j}=(0,d.Ay)(r,p.P);return(0,c.useEffect)(()=>{if(!t)return void a([]);Promise.all(t.map(e=>h.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>u.tX(e,"http://www.w3.org/ns/solid/terms#privateTypeIndex")))).then(e=>e.flat()).then(e=>a(e)).catch(e=>console.error("Failed to fetch private type indices, error:",e)),Promise.all(t.map(e=>h.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>u.tX(e,"http://www.w3.org/2000/01/rdf-schema#seeAlso")))).then(e=>e.flat()).then(e=>i(e)).catch(e=>console.error("Failed to fetch see also references, error:",e))},[t]),(0,c.useEffect)(()=>{if(!w)return void l([]);Promise.all(w.map(e=>h.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>u.tX(e,"http://www.w3.org/ns/solid/terms#privateTypeIndex")))).then(e=>e.flat()).then(e=>l(e)).catch(e=>console.error("Failed to fetch see also private type indices, error:",e))},[w]),(0,c.useEffect)(()=>{[...null!=g?g:[],...null!=A?A:[]].map(e=>{x(h.eC(e).reduce((e,t)=>{var n,s,a,r;let{predicates:l}=t;return(null==(s=l["http://www.w3.org/ns/solid/terms#forClass"])||null==(n=s.namedNodes)?void 0:n.includes("http://antwika.com/ns/solid-memo#SolidMemoData"))?[...e,...null!=(r=null==(a=l["http://www.w3.org/ns/solid/terms#instance"])?void 0:a.namedNodes)?r:[]]:e},[]))})},[g,A]),{webIdProfileDatasets:t,privateTypeIndexDatasets:g,instanceUrls:v,mutate:()=>{y(g).catch(e=>console.error("Failed to mutate, error:",e)),N(A).catch(e=>console.error("Failed to mutate, error:",e))},isLoading:n||_||j}}();return(0,s.jsxs)(r.default,{children:[(0,s.jsx)(o.$n,{onClick:()=>{t.newInstance().then(()=>w()).catch(e=>console.error("Failed with error:",e))},children:"Create new instance"}),x&&(0,s.jsx)("div",{children:"Loading instances..."}),!x&&0===n.length&&(0,s.jsx)("div",{children:"No instances found"}),!x&&n.map(e=>(0,s.jsx)("div",{className:"items-center gap-2",children:(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsx)(v(),{href:"/instances/".concat(encodeURIComponent(e)),className:"hover:underline",children:(0,s.jsxs)("div",{className:"flex gap-1",title:e,children:[(0,s.jsx)(i.A,{}),(0,s.jsx)("strong",{children:(0,s.jsx)("span",{children:(0,a.L)(e)})})," ","(Instance)"]})})})},e))]})}},6449:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/instances",function(){return n(1691)}])},8337:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});let s=(0,n(5229).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},9651:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var s=n(8429),a=n(6768);function r(e){let{data:t,mutate:n,isLoading:r}=(0,a.Ay)("string"==typeof e?[e]:e,s.P);return{data:t,mutate:n,isLoading:r}}}},e=>{var t=t=>e(e.s=t);e.O(0,[768,298,636,593,792],()=>t(6449)),_N_E=e.O()}]);