(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[760],{1691:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(7876),n=s(8429),a=s(3417),l=s(9350),o=s(6207),i=s(1979),c=s(7057),d=s(4e3),h=s(4232),u=s(6768),m=s(4051),p=s(1562),w=s(2096),f=s(9651);function x(){let e=(0,d.useRouter)(),{getRepository:t}=(0,h.useContext)(l.O),{getService:s}=(0,h.useContext)(o.h),x=t(),v=s(),{instanceUrls:y,mutate:C}=function(){let e=(0,w._)(),{data:t}=(0,f.A)(e.info.webId),[s,r]=(0,h.useState)([]),[a,l]=(0,h.useState)([]),[o,i]=(0,h.useState)([]),{data:c}=(0,f.A)(o),[d,x]=(0,h.useState)([]),{data:v,mutate:y}=(0,u.Ay)(s,n.PN),{data:C,mutate:N}=(0,u.Ay)(a,n.PN);return(0,h.useEffect)(()=>{if(!t)return void r([]);Promise.all(t.map(e=>m.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>p.tX(e,"http://www.w3.org/ns/solid/terms#privateTypeIndex")))).then(e=>e.flat()).then(e=>r(e)).catch(e=>console.error("Failed to fetch private type indices, error:",e)),Promise.all(t.map(e=>m.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>p.tX(e,"http://www.w3.org/2000/01/rdf-schema#seeAlso")))).then(e=>e.flat()).then(e=>i(e)).catch(e=>console.error("Failed to fetch see also references, error:",e))},[t]),(0,h.useEffect)(()=>{if(!c)return void l([]);Promise.all(c.map(e=>m.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>p.tX(e,"http://www.w3.org/ns/solid/terms#privateTypeIndex")))).then(e=>e.flat()).then(e=>l(e)).catch(e=>console.error("Failed to fetch see also private type indices, error:",e))},[c]),(0,h.useEffect)(()=>{[...null!=v?v:[],...null!=C?C:[]].map(e=>{x(m.eC(e).reduce((e,t)=>{var s,r,n,a;let{predicates:l}=t;return(null==(r=l["http://www.w3.org/ns/solid/terms#forClass"])||null==(s=r.namedNodes)?void 0:s.includes("http://antwika.com/ns/solid-memo#SolidMemoData"))?[...e,...null!=(a=null==(n=l["http://www.w3.org/ns/solid/terms#instance"])?void 0:n.namedNodes)?a:[]]:e},[]))})},[v,C]),{webIdProfileDatasets:t,privateTypeIndexDatasets:v,instanceUrls:d,mutate:()=>{y(v).catch(e=>console.error("Failed to mutate, error:",e)),N(C).catch(e=>console.error("Failed to mutate, error:",e))}}}();return(0,r.jsxs)(a.default,{children:[(0,r.jsx)(i.$n,{onClick:()=>{v.newInstance(x).then(()=>C()).catch(e=>console.error("Failed with error:",e))},children:"Create new instance"}),y.map(t=>(0,r.jsx)("div",{className:"items-center gap-2",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{title:"Instance",children:(0,r.jsx)(c.A,{})}),(0,r.jsx)("div",{className:"flex grow-1 break-all gap-1",children:(0,r.jsxs)("span",{title:t,children:[(0,r.jsx)("strong",{children:(0,n.L)(t)})," (Instance)"]})}),(0,r.jsx)("div",{children:(0,r.jsx)(i.$n,{size:"sm",onClick:()=>{e.push("/instances/".concat(encodeURIComponent(t)))},children:"View"})})]})},t))]})}},6449:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/instances",function(){return s(1691)}])},7057:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1713).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},9651:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(8429),n=s(6768);function a(e){let{data:t,mutate:s}=(0,n.Ay)("string"==typeof e?[e]:e,r.PN);return{data:t,mutate:s}}}},e=>{var t=t=>e(e.s=t);e.O(0,[264,636,593,792],()=>t(6449)),_N_E=e.O()}]);