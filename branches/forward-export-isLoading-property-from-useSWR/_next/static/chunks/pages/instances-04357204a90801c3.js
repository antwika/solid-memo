(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[760],{1691:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var n=s(6029),a=s(5849),r=s(3417),l=s(6207),i=s(1979),o=s(8337),c=s(4e3),d=s(5729),h=s(6768),u=s(4426),m=s(2041),p=s(8117),w=s(8429),f=s(9651);function v(){let e=(0,c.useRouter)(),{getService:t}=(0,d.useContext)(l.h),s=t(),{instanceUrls:v,mutate:x,isLoading:g}=function(){let e=(0,p._)(),{data:t,isLoading:s}=(0,f.A)(e.info.webId),[n,a]=(0,d.useState)([]),[r,l]=(0,d.useState)([]),[i,o]=(0,d.useState)([]),{data:c}=(0,f.A)(i),[v,x]=(0,d.useState)([]),{data:g,mutate:y,isLoading:_}=(0,h.Ay)(n,w.P),{data:j,mutate:k,isLoading:A}=(0,h.Ay)(r,w.P);return(0,d.useEffect)(()=>{if(!t)return void a([]);Promise.all(t.map(e=>u.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>m.tX(e,"http://www.w3.org/ns/solid/terms#privateTypeIndex")))).then(e=>e.flat()).then(e=>a(e)).catch(e=>console.error("Failed to fetch private type indices, error:",e)),Promise.all(t.map(e=>u.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>m.tX(e,"http://www.w3.org/2000/01/rdf-schema#seeAlso")))).then(e=>e.flat()).then(e=>o(e)).catch(e=>console.error("Failed to fetch see also references, error:",e))},[t]),(0,d.useEffect)(()=>{if(!c)return void l([]);Promise.all(c.map(e=>u.eC(e))).then(e=>e.flat()).then(e=>Promise.all(e.map(e=>m.tX(e,"http://www.w3.org/ns/solid/terms#privateTypeIndex")))).then(e=>e.flat()).then(e=>l(e)).catch(e=>console.error("Failed to fetch see also private type indices, error:",e))},[c]),(0,d.useEffect)(()=>{[...null!=g?g:[],...null!=j?j:[]].map(e=>{x(u.eC(e).reduce((e,t)=>{var s,n,a,r;let{predicates:l}=t;return(null==(n=l["http://www.w3.org/ns/solid/terms#forClass"])||null==(s=n.namedNodes)?void 0:s.includes("http://antwika.com/ns/solid-memo#SolidMemoData"))?[...e,...null!=(r=null==(a=l["http://www.w3.org/ns/solid/terms#instance"])?void 0:a.namedNodes)?r:[]]:e},[]))})},[g,j]),{webIdProfileDatasets:t,privateTypeIndexDatasets:g,instanceUrls:v,mutate:()=>{y(g).catch(e=>console.error("Failed to mutate, error:",e)),k(j).catch(e=>console.error("Failed to mutate, error:",e))},isLoading:s||_||A}}();return(0,n.jsxs)(r.default,{children:[(0,n.jsx)(i.$n,{onClick:()=>{s.newInstance().then(()=>x()).catch(e=>console.error("Failed with error:",e))},children:"Create new instance"}),g&&(0,n.jsx)("div",{children:"Loading instances..."}),!g&&v.map(t=>(0,n.jsx)("div",{className:"items-center gap-2",children:(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("div",{title:"Instance",children:(0,n.jsx)(o.A,{})}),(0,n.jsx)("div",{className:"flex grow-1 break-all gap-1",children:(0,n.jsxs)("span",{title:t,children:[(0,n.jsx)("strong",{children:(0,a.L)(t)})," (Instance)"]})}),(0,n.jsx)("div",{children:(0,n.jsx)(i.$n,{size:"sm",onClick:()=>{e.push("/instances/".concat(encodeURIComponent(t)))},children:"View"})})]})},t))]})}},6449:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/instances",function(){return s(1691)}])},8337:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(5229).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},9651:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s(8429),a=s(6768);function r(e){let{data:t,mutate:s,isLoading:r}=(0,a.Ay)("string"==typeof e?[e]:e,n.P);return{data:t,mutate:s,isLoading:r}}}},e=>{var t=t=>e(e.s=t);e.O(0,[4,636,593,792],()=>t(6449)),_N_E=e.O()}]);