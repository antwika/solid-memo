(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{1376:(e,n,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/decks/[iri]/edit",function(){return s(5825)}])},1728:(e,n,s)=>{"use strict";s.d(n,{A:()=>d});var a=s(2041),t=s(4426),i=s(9651),r=s(7127);function d(e){let{data:n,mutate:s,isLoading:d}=(0,i.A)(e),l=(null!=n?n:[]).map(e=>(0,t.eC)(e)).flat().filter(n=>e.includes(n.url)).map(e=>(0,r.nt)({iri:e.url,type:(0,a.ID)(e,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),name:(0,a.NB)(e,"http://antwika.com/ns/solid-memo#name"),version:(0,a.NB)(e,"http://antwika.com/ns/solid-memo#version"),isInSolidMemoDataInstance:(0,a.ID)(e,"http://antwika.com/ns/solid-memo#isInSolidMemoDataInstance"),hasCard:(0,a.tX)(e,"http://antwika.com/ns/solid-memo#hasCard")})),c=l.reduce((e,n)=>(e[n.iri]=n,e),{});return{deckDatasets:n,decks:l,deckMap:c,mutate:s,isLoading:d}}},5825:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>p});var a=s(6029),t=s(333),i=s(6207),r=s(1979),d=s(8774),l=s(4e3),c=s(5729),o=s(1728),h=s(1909),u=s(8230),m=s.n(u);function p(){let e=(0,l.useRouter)(),{getService:n}=(0,c.useContext)(i.h),s=n(),{iri:u}=(0,l.useParams)(),{deckMap:p,mutate:x,isLoading:f}=(0,o.A)(u?[null==u?void 0:u.toString()]:[]),j=u?p[u.toString()]:void 0,{register:k,handleSubmit:v,formState:{errors:w}}=(0,h.mN)();return f?(0,a.jsx)(t.default,{children:(0,a.jsx)(r.Zp,{className:"p-2",children:(0,a.jsx)("div",{children:"Loading deck..."})})}):j?(0,a.jsx)(t.default,{children:(0,a.jsx)(r.Zp,{className:"p-2",children:(0,a.jsx)("form",{onSubmit:v(e=>{s.updateDeck({...j,name:e.name}).then(()=>x()).then(()=>{console.log("Updated deck!")}).catch(e=>{console.error("Failed to update deck, error:",e)})}),children:(0,a.jsxs)("div",{className:"space-x-2 space-y-1",children:[(0,a.jsxs)("div",{className:"mb-2 flex gap-1 justify-between",children:[(0,a.jsx)(m(),{href:"/decks/".concat(encodeURIComponent(j.iri)),className:"hover:underline",children:(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(d.A,{}),(0,a.jsx)("strong",{children:(0,a.jsx)("span",{children:j.name})})]})}),(0,a.jsx)(r.$n,{size:"sm",variant:"destructive",onClick:()=>{s.removeDeck(j).then(()=>e.push("/decks")).catch(e=>console.error("Failed with error:",e))},children:"Delete"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"â€¢ Name:"})," ",j.name,(0,a.jsx)(r.pd,{id:"name",type:"text",defaultValue:j.name,...k("name",{required:!0})}),w.name&&(0,a.jsx)("span",{children:"This field is required"})]}),(0,a.jsx)(r.$n,{type:"submit",children:"Save"})]})})},j.iri)}):(0,a.jsx)(t.default,{children:(0,a.jsx)("div",{children:"No deck found"})})}},8774:(e,n,s)=>{"use strict";s.d(n,{A:()=>a});let a=(0,s(5229).A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]])},9651:(e,n,s)=>{"use strict";s.d(n,{A:()=>i});var a=s(8429),t=s(6768);function i(e){let{data:n,mutate:s,isLoading:i}=(0,t.Ay)("string"==typeof e?[e]:e,a.P);return{data:n,mutate:s,isLoading:i}}}},e=>{var n=n=>e(e.s=n);e.O(0,[768,441,636,593,792],()=>n(1376)),_N_E=e.O()}]);